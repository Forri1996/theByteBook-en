# 5.1 分布式的核心：共识

受翻译影响，网上很多讨论 paxos 或 raft 的内容多使用“分布式一致性协议”或者“分布式一致性算法”这样的描述字眼。例如，Mike Burrows 对 Paxos 的评价原话是 “There is only one consensus protocol...”，很多文章翻译成 “世界上只有一种一致性算法...” 。

虽然在汉语中“共识（consensus）”和“一致（consistency）”是一个意思，但在计算机工程中它们之间还是有明显的区别：consensus 是大家关心的某件事情（比如选举、分布式锁、全局ID、数据复制等等）达成一致的**过程及其算法**；而 consistency 则描述的是存储的数据之间不自相矛盾，侧重于节点共识过程最终达成稳定状态的**结果**。paxos、raft、ZAB 等等属于 consensus 的理论/实现，所以使用“共识”来表达更清晰一些，而 CAP 定理中的 C 和数据库 ACID 的 C 才是真正的“一致性” —— consistency 问题（这两个 C 也存在区别，笔者将在 6.4 节介绍）。

解决问题的前提是正确认识问题，正确认识问题需要合适的理论。毫无疑问，认识共识，从 Leslie Lamport[^1] 1982 年发表的论文 《The Byzantine General Problem》（拜占庭将军问题）开始最恰达不过。拜占庭将军问题是分布式领域最复杂的一个容错模型，一旦搞懂了它，我们就能掌握分布式共识问题解决的思路，还能更深刻地理解常见的共识算法。

[^1]: Lamport 在分布式系统理论方面有非常多的成就，比如 Lamport 时钟、拜占庭将军问题、Paxos 算法等等。除了计算机领域之外，其他领域的无数科研工作者也要成天和 Lamport 开发的一套软件打交道，目前科研行业应用最广泛的论文排版系统 --  LaTeX (名字中的 “La” 就是指 Lamport)
